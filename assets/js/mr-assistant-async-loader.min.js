!function(){"use strict";document.addEventListener("DOMContentLoaded",function(){if("object"==typeof mr_assistant_obj&&!Array.isArray(mr_assistant_obj)&&null!==mr_assistant_obj){let t=mr_assistant_obj;if(Object.keys(t).length>0&&t.hasOwnProperty("plugin_url")){const s=t.plugin_url;let e=t.hasOwnProperty("custom_style")?t.custom_style:"",n=t.hasOwnProperty("dev_mode")?t.dev_mode:"off",i="on"===n?"":".min",o=JSON.stringify(Object.assign({},t,{dev:n}));(function(){let r=function(t){let s=t.match(/#\w+/g),e=s&&s.length>0?s[0]:"#333";return".theme{background: "+t+" !important;}.input-group .material-icons svg{color: "+e+"}#message{border: 2px solid "+e+" !important}"},c=['<html lang="en">',"<head>",'<meta name="viewport" content="width=device-width, user-scalable=no">','    <link href="https://fonts.googleapis.com/css?family=Muli:400,600" rel="stylesheet">',t.hasOwnProperty("font_link")?t.font_link:"",`    <link rel="stylesheet" href="${s}assets/css/mr-assistant.css">`,`    <style>${function(){let s="";return t.hasOwnProperty("fc1")&&(s+=`.message-content{color:${t.fc1||"#fff"}} .tp-balls span{background:${t.fc1||"#fff"}}`),t.hasOwnProperty("megs_box")&&(s+=`.bot .message-content, .admin .message-content, .tp-container{background:${t.megs_box||"#e5ebf5"} !important}`),t.hasOwnProperty("fc2")&&(s+=`.client .message-content, .tag{color:${t.fc2||"#fff"}}`),t.hasOwnProperty("fc3")&&(s+=`.user, .time{color:${t.fc3||"#607D8B"}}`),t.hasOwnProperty("font_name")&&(s+=`body, input, textarea, button {font-family: ${t.font_name} }`),t.hasOwnProperty("theme_type")&&""!==t.theme_type&&("theme"===t.theme_type&&""!==t.theme?s+=r(t.theme):"color"===t.theme_type&&""!==t.color&&(s+=r(t.color))),s}()}</style>`,'    <style id="mr_custom_style"></style>',`    <style>${e}</style>`,'<body class="mr-theme-orange no-js" data-action="mr-assistant-chat-bot-client">'].join("\n"),a=['<script src="https://code.iconify.design/1/1.0.3/iconify.min.js"><\/script>','<script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-app.js"><\/script>','<script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-auth.js"><\/script>','<script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-database.js"><\/script>',`<script>let mrAssistantObj = ${o}<\/script>`,'<script id="mr_config_script"><\/script>','<script id="mr_user_config"><\/script>','<script id="mr_trans_config"><\/script>','<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"><\/script>','<script src="https://cdn.jsdelivr.net/npm/js-cookie@rc/dist/js.cookie.min.js"><\/script>',`<script src="${s}assets/js/libs/elasticlunr.min.js"><\/script>`,`<script src="${s}assets/js/mr-assistant${i}.js"><\/script>`,"</body>","</html>"].join("\n"),p=[`<audio id="au-typing" src="${s}assets/sounds/typing.mp3" type="audio/mpeg"></audio>`,`<audio id="au-message" src="${s}assets/sounds/message.mp3" type="audio/mpeg"></audio>`].join("\n"),m=function(s){if(t.woo){if("cart"===s)return t.wooCart?t.wooCart:0;if("status"===s)return t.wooCart>0?"block":"none"}return"none"};const l=s+"assets/images/chat-button.svg",d=t.hasOwnProperty("chat_icon")&&""!==t.chat_icon?t.chat_icon:l;let u='<sup class="mr-cart-input mr-cart1 theme mr-cart-count" style="display: '+m("status")+'">'+m("cart")+"</sup>",h=['<button type="button" id="button-body" class="alc_start theme">',`<img class="mr-chat-icon" src="${d}" width="${t.ic_width||48}" height="${t.ic_height||48}"/>`,u,"</button>"].join("\n"),f=['<div class="alc_chatbot"><div class="alc_popup"><div class="alc_pop_box"></div></div></div>'].join("\n");return{execute:function(){return new Promise(function(t){setTimeout(function(){t(c+f+h+p+a)},500)}).then(function(t){let s=document.createElement("iframe");s.id="alc_iframe",s.style="border: none; width: 112px; height: 140px; opacity: 0; background: ; margin: 0px; max-height: 100vh; max-width: 100vw; transform: translateY(0px); transition: none 0s ease 0s; visibility: visible; z-index: 99999 !important;",document.body.appendChild(s),s.src="about:blank";let e=s.document;s.contentWindow&&(e=s.contentWindow.document),e.writeln(t),e.close()}).catch(function(t){"on"===n&&console.error(t)})}}})().execute()}}})}();